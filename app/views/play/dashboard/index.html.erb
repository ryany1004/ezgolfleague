<% unless @todays_tournament.blank? -%>
<div class="row">
  <div class="col-md-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Today's Tournament</h3>
      </div>
      <%= render partial: 'tournament_table', locals: {tournaments: [@todays_tournament], is_previous: false, is_current: true} %>
    </div>
  </div>
</div>
<% end -%>

<div class="row">
  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Upcoming Tournaments</h3>
      </div>
      <% if @upcoming_tournaments.count > 0 -%>
      <%= render partial: 'tournament_table', locals: {tournaments: @upcoming_tournaments, is_previous: false, is_current: false} %>
      <% else -%>
      <div class="panel-body">
        No upcoming tournaments in this league.
      </div>
      <% end -%>
    </div>
  </div>
  
  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">League Info</h3>
      </div>
      <div class="panel-body">
        <h4><%= current_user.selected_league.name %></h4>
        <p><%= current_user.selected_league.league_memberships.count %> Members</p>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <% if @past_tournaments.count > 0 -%>
  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Previous Tournaments</h3>
      </div>
      <%= render partial: 'tournament_table', locals: {tournaments: @past_tournaments, is_previous: true, is_current: false} %>
    </div>
  </div>
  <% end -%>
  
  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">League Rankings</h3>
      </div>
      <div class="panel-body">
        <table class="table table-striped">
        	<thead>
        		<tr>
        			<th>Rank</th>
              <th>Player</th>
              <th>Score</th>
        		</tr>
        	</thead>
          <tbody>
            <% @rankings.each_with_index do |player, i| %>
            <tr>
              <td><strong><%= i + 1 %></strong></td>
              <td><%= player[:name] %></td>
              <td><%= player[:score] %></td>
            </tr>
            <% end -%>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>