<style>
  .table > tbody > tr:first-child > td {
    border: none;
  }
</style>

<div class="col-md-12">
  <div class="row">
    <h1>Setup Your Subscription</h1>
  </div>
</div>

<div class="col-md-12">&nbsp;</div>

<div class="col-md-12">
  <div class="row">
    <p>EZ Golf League billing is based on two things - the number of active golfers in your league and the number of tournaments you play.</p>

    <p>An 'active golfer' is one that plays in tournaments. You can have an unlimited number of inactive golfers and change which are active easily.</p>
  </div>

  <div class="row">&nbsp;</div>

  <div class="row">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Golfer and Tournament Information</h3>
      </div>
      <div class="panel-body">
        <table class="table">
          <tbody>
            <tr>
              <td>How many active golfers do you have in your league?</td>
              <td class="text-right"><input type="number" name="active_golfers" value="15" id="active_golfers"></td>
            </tr>
            <tr>
              <td>How many tournaments do you want to play?</td>
              <td class="text-right"><input type="number" name="tournaments_per_season" value="10" id="tournaments_per_season"></td>
            </tr>
            <tr>
              <td><strong>Total Cost</strong> <span id="cost_details"></span></td>
              <td class="text-right" id="total_cost">XX</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="row" id="payment_info_row">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Your Payment Information</h3>
      </div>
      <div class="panel-body">
        <table class="table">
          <tbody>
            <tr>
              <td>Credit Card Number</td>
              <td><input type="text" value="xxx-xxx-xxxx-xxxx"></td>
            </tr>
            <tr>
              <td>Expiration Date</td>
              <td><input type="text" value="03"> / <input type="text" value="2017"></td>
            </tr>
            <tr>
              <td>CVV</td>
              <td><input type="text" value="XXX"></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">&nbsp;</div>
    <div class="col-md-6"><button type="button" class="btn btn-success btn-lg btn-block"><strong><span id="payment_button_text">Submit &amp; Pay $xx</span></strong></button></div>
    <div class="col-md-3">&nbsp;</div>
  </div>
</div>

<div class="col-md-12">&nbsp;</div>
<div class="col-md-12">&nbsp;</div>

<script>
  $("#active_golfers").keyup(function() {
    updateCalculatedCost();
  });

  $("#tournaments_per_season").keyup(function() {
    updateCalculatedCost();
  });

  $("#active_golfers").change(function() {
    updateCalculatedCost();
  });

  $("#tournaments_per_season").change(function() {
    updateCalculatedCost();
  });

  function updateCalculatedCost() {
    var golfers = $("#active_golfers").val();
    var tournaments = $("#tournaments_per_season").val();

    if (golfers < 13) {
      $("#total_cost").html("FREE");
      $("#cost_details").html("");
      $("#payment_button_text").html("Continue for Free");

      $("#payment_info_row").hide("fast");
    } else {
      var cost = 0;
      var costPerGolfer = 0;

      if (tournaments > 15) {
        costPerGolfer = 10;
      } else {
        costPerGolfer = 5;
      }

      cost = golfers * costPerGolfer;

      $("#total_cost").html("$" + cost);
      $("#cost_details").html("($"+ costPerGolfer +" per golfer)");
      $("#payment_button_text").html("Submit &amp; Pay $" + cost);

      $("#payment_info_row").show("fast");
    }
  }

  updateCalculatedCost();
</script>
