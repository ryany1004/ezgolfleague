<table class="table table-striped table-bordered">
	<thead>
		<tr>
      <th width="25%">Flight</th>
      <th width="25%">Score</th>
      <th width="25%">Par</th>
      <th width="25%">Course Handicap</th>
		</tr>
	</thead>
	<tbody>
		<tr>
      <td><%= (tournament.flight_for_player(scorecard.golf_outing.user).flight_number) %></td>
      <td><%= scorecard.scores.map {|score| score.strokes }.sum %></td>
      <td><%= tournament.course_holes.map {|hole| hole.par }.sum %></td>
      <td><%= scorecard.golf_outing.user.course_handicap(tournament.course, scorecard.golf_outing.course_tee_box) %></td>
		</tr>
	</tbody>
</table>

<%= simple_form_for scorecard, url: edit_url do |f| %>

<% split_holes.each_with_index do |split, j| %>
<table class="table table-striped table-bordered">
	<thead>
		<tr>
      <th>Hole</th>
      <% split.each do |hole| -%>
      <th><%= hole.hole_number %></th>
      <% end -%>
      <th>Total</th>
		</tr>
	</thead>
	<tbody>
		<tr>
      <td><%= scorecard.golf_outing.user.complete_name %></td>
      <% split_scores[j].each do |score| %>
        <%= f.simple_fields_for :scores, score do |s| %>
        <td><%= s.input :strokes, label: false, as: :string %></td>
        <% end %>
      <% end %>
      <td><%= split_scores[j].map {|score| score.strokes }.sum %></td>
		</tr>
	</tbody>
  <tfoot>
		<tr>
			<th>Par</th>
      <% split.each do |hole| -%>
      <th><%= hole.par %></th>
      <% end -%>
      <th><%= split.map {|hole| hole.par }.sum %></th>
		</tr>
		<tr>
			<th>Men's Handicap</th>
      <% split.each do |hole| -%>      
        <% if handicap_allowance_strokes_for_hole(handicap_allowance, hole) > 0 -%>
        <th><%= hole.mens_handicap %> (-<%=  handicap_allowance_strokes_for_hole(handicap_allowance, hole) %>)</th>
        <% else -%>
        <th><%= hole.mens_handicap %></th>
        <% end -%>
      <% end -%>
      <th>&nbsp;</th>
		</tr>
		<tr>
			<th>Women's Handicap</th>
      <% split.each do |hole| -%>
        <% if handicap_allowance_strokes_for_hole(handicap_allowance, hole) > 0 -%>
        <th><%= hole.womens_handicap %> (-<%=  handicap_allowance_strokes_for_hole(handicap_allowance, hole) %>)</th>
        <% else -%>
        <th><%= hole.womens_handicap %></th>
        <% end -%>
      <% end -%>
      <th>&nbsp;</th>
		</tr>
  </tfoot>
</table>
<% end -%>

<%= f.button :submit, :class => 'btn btn-default' %>
<% if tournament.is_finalized == false -%>
<%= link_to 'Finalize Scorecard', play_scorecard_finalize_scorecard_path(scorecard), :class => 'btn btn-danger', :method => :patch, :data => { :confirm => 'Are you sure you want to finalize your scorecard? This indicates to the league administrator that you are ready to be ranked for this tournament.' } %>
<% end -%>

<% end %>